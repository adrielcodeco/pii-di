{"version":3,"sources":["../src/token.ts"],"names":[],"mappings":";;AASA,kBAAmB,UAAiC;IAClD,MAAM,QAAQ,GAAG,UAAU,CAAC,SAAS;QACnC,CAAC,CAAC,IAAK,UAAyB,EAAE;QAClC,CAAC,CAAC,UAAU,CAAA;IACd,MAAM,MAAM,GAAG,UAAU,CAAC,SAAS,IAAI,UAAU,CAAA;IACjD,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC;SAC3B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC3B,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;SAC5C,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,aAAa,CAAC,CAAA;AACnE,CAAC;AAED,eAA+B,UAA0C;IACvE,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;KAC5C;IACD,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;QAClC,OAAO,SAAS,UAAU,GAAG,CAAA;KAC9B;IACD,MAAM,IAAI,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAA;IACjC,OAAO,SAAS,UAAU,CAAC,IAAI,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAA;AAC7D,CAAC;AATD,wBASC","file":"token.js","sourcesContent":["/**\n * Copyright 2018-present, CODECO. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Class } from './util'\n\nfunction describe (Identifier: Class<any> | Function) {\n  const instance = Identifier.prototype\n    ? new (Identifier as Class<any>)()\n    : Identifier\n  const target = Identifier.prototype || Identifier\n  return Reflect.ownKeys(target)\n    .concat(Object.keys(target))\n    .concat(Object.getOwnPropertyNames(instance))\n    .filter((v, i, a) => a.indexOf(v) === i && v !== 'constructor')\n}\n\nexport default function Token (identifier: string | Function | Class<any>): string {\n  if (!identifier) {\n    throw new Error('invalid token identifier')\n  }\n  if (typeof identifier === 'string') {\n    return `Token(${identifier})`\n  }\n  const keys = describe(identifier)\n  return `Token(${identifier.name || ''}{${keys.join(',')}})`\n}\n"]}